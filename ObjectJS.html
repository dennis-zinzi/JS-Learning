<!DOCTYPE html>
<html>
	<head>
		<title>Object Data Collection Using jQuery</title>
		<meta charset="utf-8" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script>
			$(document).ready(function(){
			
				var people = [];

				function person(firstName, lastName, age, email){
					this.firstName = firstName;
					this.lastName = lastName;
					this.age = age;
					this.email = email;
					
					//var exists = false;

					for(i = 0; i < people.length; i++){
						if(people[i].email == this.email){
							alert("PERSON ALREADY EXISTS");
							//exists = true;
							return;
						}
					}

					console.log(people.length);
					
					//if(exists == false){
					people.push(this);
					$("#contacts").append("<li>"+this.firstName+" "+this.lastName+"</li>");
					//}
				};
			
				var fName = $("#firstN");
				var lName = $("#lastN");
				var age = $("#age");
				var email = $("#email");
				
				$("#submitBtn").click(function(){
				
					firstNV = fName.val();
					lastNV = lName.val();
					ageV = age.val();
					emailV = email.val();
				
					var newPerson;
					
					if(firstNV != "" && lastNV != "" && ageV != 0 && emailV != ""){
						newPerson = new person(firstNV, lastNV, ageV, emailV);
					}
					else{
						alert("WARNING, empty field!");
					}
				
					$("#firstNS").text(newPerson.firstName);
					$("#lastNS").text(newPerson.lastName);
					$("#ageS").text(newPerson.age);
					$("#emailS").text(newPerson.email);
				});
				
				$("#clear").click(function(){
				
					fName.val("");
					lName.val("");
					age.val("");
					email.val("");
										
				});
				 
			
			});
		</script>
	</head>
	
	<body>
		<h1>Enter Contact Details</h1>
		<form>
			First Name: <input type="text" id="firstN"><br /><br />
			Last Name: <input type="text" id="lastN"><br /><br />
			Age: <input type="number" min="3" max="130" id="age"><br /><br />
			Email: <input type="email" id="email">
		</form>
		<br />
		<button type="button" id="submitBtn">Submit</button>

		<hr />
		<h2>Results</h2>

		<p>
			First Name: <span id="firstNS"></span>
		</p>
		<p>
			Last Name: <span id="lastNS"></span>
		</p>
		<p>
			Age: <span id="ageS"></span>
		</p>
		<p>
			Email: <span id="emailS"></span>
		</p>

		<button type="button" id="clear">Clear</button>
		
		<h2>Contacts Saved</h2>
		<ol id="contacts">
		</ol>

	</body>
</html>
